<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' https://image.tmdb.org https://placehold.co http://googleusercontent.com https://flagcdn.com https://images.ctfassets.net https://upload.wikimedia.org https://platform.theverge.com https://static1.purepeople.com https://images.seeklogo.com https://logo.clearbit.com data:; connect-src 'self' https://api.themoviedb.org;">

    <title>CineMatch</title>
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Spline+Sans:wght@400;500;700" onload="this.rel='stylesheet'" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400..700,0..1,0" rel="stylesheet" />

    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: { "primary": "#ea2a33", "background-light": "#f8f6f6", "background-dark": "#211111" },
                    fontFamily: { "display": ["Spline Sans"] },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style> 
        body { height: 100dvh; overflow: hidden; } /* EmpÃªche le scroll global */
        .material-symbols-outlined.filled { font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
        .material-symbols-outlined.thick { font-variation-settings: 'FILL' 1, 'wght' 700, 'GRAD' 0, 'opsz' 24; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-gray-900 dark:text-gray-100">
<div class="flex flex-col h-screen">
    
    <header class="flex-shrink-0 sticky top-0 z-10 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100">CineMatch</h1>
                
                <a href="profile.html" class="flex items-center gap-3 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors">
                    <img id="header-flag" src="https://flagcdn.com/w40/fr.png" alt="FR" class="w-5 h-auto rounded-sm shadow-sm object-cover">
                    <span class="material-symbols-outlined text-3xl text-gray-600 dark:text-gray-300">account_circle</span>
                </a>
            </div>
        </div>
    </header>

    <main class="flex-1 overflow-y-auto scroll-smooth">
        <div id="loading-spinner" class="fixed inset-0 z-50 flex items-center justify-center bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm" style="display: none;">
            <svg class="animate-spin h-10 w-10 text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
        </div>

        <div class="px-4 py-4">
            <div class="grid grid-cols-3 gap-1 rounded-full bg-gray-200 dark:bg-gray-800 p-1">
                <button id="filter-both" class="px-4 py-2 text-sm font-semibold rounded-full bg-primary text-white">Both</button>
                <button id="filter-movies" class="px-4 py-2 text-sm font-semibold rounded-full text-gray-600 dark:text-gray-300">Movies Only</button>
                <button id="filter-series" class="px-4 py-2 text-sm font-semibold rounded-full text-gray-600 dark:text-gray-300">TV Shows Only</button>
            </div>
        </div>

        <section id="popular-section" class="py-6 pt-2">
          <h2 class="px-4 mb-3 text-xl font-bold text-gray-900 dark:text-gray-100">Trendy Movies</h2>
          <div class="flex overflow-x-auto snap-x snap-mandatory [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden">
            <div id="popular-container" class="flex px-4 gap-4"></div>
          </div>
        </section>
        
        <section id="netflix-section" class="py-6"><h2 class="px-4 mb-3 text-xl font-bold text-gray-900 dark:text-gray-100">Netflix Picks</h2><div class="flex overflow-x-auto snap-x snap-mandatory [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden"><div id="netflix-container" class="flex px-4 gap-4"></div></div></section>
        <section id="prime-video-section" class="py-6"><h2 class="px-4 mb-3 text-xl font-bold text-gray-900 dark:text-gray-100">Amazon Prime Exclusives</h2><div class="flex overflow-x-auto snap-x snap-mandatory [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden"><div id="prime-video-container" class="flex px-4 gap-4"></div></div></section>
        <section id="apple-tv-section" class="py-6"><h2 class="px-4 mb-3 text-xl font-bold text-gray-900 dark:text-gray-100">Apple TV+ Selection</h2><div class="flex overflow-x-auto snap-x snap-mandatory [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden"><div id="apple-tv-container" class="flex px-4 gap-4"></div></div></section>
        <section id="disney-plus-section" class="py-6"><h2 class="px-4 mb-3 text-xl font-bold text-gray-900 dark:text-gray-100">Disney+ Favorites</h2><div class="flex overflow-x-auto snap-x snap-mandatory [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden"><div id="disney-plus-container" class="flex px-4 gap-4"></div></div></section>
        <section id="canal-plus-section" class="py-6"><h2 class="px-4 mb-3 text-xl font-bold text-gray-900 dark:text-gray-100">Canal+ Exclusives</h2><div class="flex overflow-x-auto snap-x snap-mandatory [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden"><div id="canal-plus-container" class="flex px-4 gap-4"></div></div></section>
        <div class="h-8"></div> </main>

    <footer class="flex-shrink-0 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-sm border-t border-gray-200 dark:border-gray-800 z-30">
        <nav class="flex justify-around items-center h-16">
            <a class="flex flex-col items-center justify-center gap-1 text-primary" href="index.html">
                <span class="material-symbols-outlined filled">home</span>
                <span class="text-[10px] font-bold">Home</span>
            </a>

            <a class="flex flex-col items-center justify-center gap-1 text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors" href="#">
                <span class="material-symbols-outlined thick">local_fire_department</span>
                <span class="text-[10px] font-medium">Popular</span>
            </a>

            <a class="flex flex-col items-center justify-center gap-1 text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors" href="search.html">
                <span class="material-symbols-outlined">search</span>
                <span class="text-[10px] font-medium">Search</span>
            </a>

            <a class="flex flex-col items-center justify-center gap-1 text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors" href="watchlist.html">
                <span class="material-symbols-outlined">bookmark</span>
                <span class="text-[10px] font-medium">My List</span>
            </a>
        </nav>
        <div class="h-safe-bottom"></div>
    </footer>
</div>
<script src="config.js"></script>
<script src="app.js"></script>
</body>
</html>
