<!DOCTYPE html>
<html class="dark" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Spline+Sans%3Awght%40400%3B500%3B700" onload="this.rel='stylesheet'" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#ea2a33",
            "background-light": "#f8f6f6",
            "background-dark": "#211111",
          },
          fontFamily: {
            "display": ["Spline Sans"]
          },
          borderRadius: {
            "DEFAULT": "0.25rem",
            "lg": "0.5rem",
            "xl": "0.75rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
<title>Actor Profile</title>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
    [x-cloak] { display: none !important; }
    .filled { font-variation-settings: 'FILL' 1; }
  </style>
</head>
<body class="bg-background-dark font-display text-gray-200">
<div class="flex h-screen flex-col" x-data="personProfile()">
    <header class="absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4">
    <button class="rounded-full bg-black/50 p-2 text-white" onclick="history.back()">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
    </button>
    <button @click="toggleFavorite()" class="rounded-full bg-black/50 p-2 transition-colors duration-300 flex items-center justify-center" :class="isFavorite ? 'text-primary filled' : 'text-white'">
      <span class="material-symbols-outlined text-2xl">bookmark</span>
    </button>
  </header>

  <main class="flex-1 overflow-y-auto">
    <div class="flex flex-col items-center p-4 pt-16">
      <div class="relative">
        <img :alt="person.name" class="h-40 w-40 rounded-full object-cover shadow-lg" :src="getProfileUrl(person.profile_path)"/>
      </div>
      <h1 class="mt-4 text-3xl font-bold text-white" x-text="person.name"></h1>
      <div class="relative max-w-md text-center text-sm text-gray-400">
          <p class="mt-4" x-text="bioText"></p>
          <button x-show="showReadMore" @click="toggleBio()" class="text-primary font-semibold mt-2" x-text="isBioExpanded ? 'Read Less' : 'Read More'"></button>
      </div>
    </div>

    <div class="px-4 pb-8">
      <div class="mt-6">
        <div class="mb-4 flex items-center justify-between">
          <div class="flex items-center space-x-2 rounded-full bg-black/30 p-1">
            <button :class="{'bg-primary text-white': activeTab === 'tout', 'text-gray-400': activeTab !== 'tout'}" @click="activeTab = 'tout'" class="rounded-full py-2 px-4 text-center text-sm font-semibold transition-colors duration-300">
                Tout
            </button>
            <button :class="{'bg-primary text-white': activeTab === 'movie', 'text-gray-400': activeTab !== 'movie'}" @click="activeTab = 'movie'" class="rounded-full py-2 px-4 text-center text-sm font-semibold transition-colors duration-300">
                Films
            </button>
            <button :class="{'bg-primary text-white': activeTab === 'tv', 'text-gray-400': activeTab !== 'tv'}" @click="activeTab = 'tv'" class="rounded-full py-2 px-4 text-center text-sm font-semibold transition-colors duration-300">
                TV
            </button>
          </div>
          <div class="flex items-center space-x-2">
            <button @click="toggleSort()" class="flex items-center space-x-1 rounded-full bg-black/30 p-2 text-xs text-gray-400 hover:text-white transition-colors">
              <span class="material-symbols-outlined text-base">swap_vert</span>
              <span x-text="`Trier: ${sortLabel}`"></span>
            </button>
            <button class="flex items-center space-x-1 rounded-full bg-black/30 p-2 text-xs text-gray-600 cursor-not-allowed" disabled>
              <span class="material-symbols-outlined text-base">filter_list</span>
              <span>Filtrer</span>
            </button>
          </div>
        </div>

        <div class="mt-4 space-y-4" x-cloak>
            <template x-for="media in filteredCredits" :key="media.id + '-' + media.type">
                <a :href="media.type === 'movie' ? `film.html?id=${media.id}` : `serie.html?id=${media.id}`" class="flex items-center gap-4 transition-all hover:bg-white/5 p-2 rounded-lg">
                    <img :alt="media.title + ' poster'" class="h-24 w-16 rounded-lg object-cover" :src="getImageUrl(media.poster_path)"/>
                    <div class="flex-1">
                        <p class="font-semibold text-white" x-text="media.title"></p>
                        <p class="text-sm text-gray-400" x-text="formatYear(media.date)"></p>
                    </div>
                    <span class="material-symbols-outlined text-gray-500">
                      chevron_right
                    </span>
                </a>
            </template>
            <div x-show="filteredCredits.length === 0 && !isLoading" class="text-center text-gray-500 py-8">
                No media found.
            </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script defer="" src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<script src="config.js"></script>
<script src="js/utils.js"></script>
<script src="person.js"></script>
</body>
</html>
